<bid-dialog [show]="showBid" (close)="onClickClose()" (send)="onClickSend()" (description)="onKeyDescription($event)" (price)="onKeyPrice($event)"></bid-dialog>
<div class="input-container" *ngIf="loaded">
  <div class="contact-container">
    <div class="contact-profile-picture">
      <img class="contact-picture-image" [src]="image">
    </div>
    <div class="contact-stars">
      <img class="contact-profile-stars" *ngFor="let i of stars"
           [src]="i == 0 ? './assets/star2.png' : i == 1 ? './assets/star3.png' : './assets/star1.png'">
    </div>
    <div class="bid-title">{{user.name}}</div>
    <div class="bid-content">{{user.phone}}</div>
    <div class="bid-name">{{user.email}}</div>
    <button class="input-button button-contact button-dark" (click)="onClickAddToContact()" i18h>Add to contact</button>
    <div *ngIf="message.length > 0" class="response-message ok-message">{{message}}</div>
    <div *ngIf="error.length > 0" class="response-message error-message">{{error}}</div>
  </div>
  <div class="service-container">
    <h1>{{data.title}}</h1>
    <div class="detail-description"><b i18h>Description: </b>{{data.description || ''}}</div>
    <div class="detail-location"><b i18h>Location:</b> {{getServiceLocation(data.location)|| ''}}</div>
    <div class="detail-date" *ngIf="!type"><b i18h>Job date:</b> {{data.jobdate || ''}}</div>
    <div class="detail-date"><b i18h>Expiry date:</b> {{convertNumberToDate(data.expirydate) || ''}}</div>
    <availability *ngIf="type" [value]="data.availabilities"></availability>
    <button *ngIf="type" class="input-button button-light button-bid" (click)="onClickBid()">Send a bid</button>
  </div>
</div>
<div class="gallery-container">
  <gallery class="detail-gallery" [editable]="false" [images]="getPictures()" (onClickImage)="imageOpen($event)"
           [close]="isClose()"></gallery>
</div>
<div class="comments" *ngIf="loaded && type" onC>
  <div class="comment-container" *ngFor="let item of comments">
    <img [src]="item.picture"/>
    <div class="comment-content">
      <div class="comment-name">{{item.name}}</div>
      <div class="comment-text">{{item.commentMessage}}</div>
      <div class="comment-date">{{convertNumberToDateTime(item.date)}}</div>
    </div>
  </div>
  <div class="more-comment"  *ngIf="hasMore" (click)="showMoreComments()">Show previous comments...</div>
  <div class="new-comment">
    <text-area [placeholder]="'Write a comment...'" [value]="commentMessage" (onKey)="commentMessage= $event"
               [disableValidation]="true" (onEnterPressed)="sendComment()" [clear]="clearArea" [row]="3"></text-area>
    <button class="input-button input-send button-dark" (click)="sendComment()">Send</button>
  </div>
</div>
<div *ngIf="!loaded && error.length > 0" class="response-message error-message">{{error}}</div>
