<div id="map" [ngClass]="{'hide-map': !mapView}">
</div>
<div [ngClass]="{'hide-map-filter' : (showSearch && mapView), 'map-filter' : mapView}" (focusout)="refresh()">

  <div
    [ngClass]="{'hide-map-inputs' : (showSearch && mapView), 'data-container' : !mapView, 'map-inputs-container' : mapView}">
    <h1 *ngIf="!mapView">Services</h1>
    <div [ngClass]="{'service-inputs-container' : !mapView}">
      <text-input [placeholder]="'Search'" [type]="text" class="map-search" (onKeyEvent)="onKey($event)"
                  [disableValidation]="true"></text-input>
      <div [ngClass]="{'map-selector-container' : mapView}">
        <div class="input-group">
          <select-input class="map-select right-padding" [values]="types" (text)="onChangeTypeSelect($event)"
                        [disableValidation]="true"></select-input>
          <select-input class="map-select" [options]="categories" (text)="onChangeCategorySelect($event)"
                        [disableValidation]="true"></select-input>
        </div>
      </div>
      <button class="input-button button-light" (click)="showList()">{{mapView ? 'Map' : 'List'}} View</button>
    </div>
  </div>
  <div class="close-button" *ngIf="!showSearch && mapView" (click)="onClickSearchPanel()">
    <div id="close-icon"></div>
  </div>
  <div *ngIf="showSearch && mapView" class="search-button" (click)="onClickSearchPanel()">
    <div id="magnifying-glass" class="map-triangle-container"></div>
  </div>

  <div class="service-container" *ngIf="!mapView">
    <div class="service" *ngFor="let item of requests" (click)="onClickService(false, item.rid)"
         routerLinkActive="active">
      <div class="service-picture"><img class="service-image" [src]="getPictureUrl(item.image)"></div>
      <div class="service-content">
        <div class="service-title">{{item.title}}</div>
        <div class="service-description">{{item.description}}</div>
        <div class="service-location"><b>Address: </b>{{getLocation(item.location)}}</div>
        <div class="service-category"><b>Category: </b>{{getCategory(item.category)}}</div>
        <div class="service-date"><b>Date: </b> {{item.expridate}}</div>
      </div>
    </div>
    <div class="service" *ngFor="let item of offers" (click)="onClickService(true, item.oid)">
      <div class="service-picture"><img class="service-image" [src]="getPictureUrl(item.image)"></div>
      <div class="service-content">
        <div class="service-title">{{item.title}}</div>
        <div class="service-description">{{item.description}}</div>
        <div class="service-location"><b>Address: </b>{{getLocation(item.location)}}</div>
        <div class="service-category"><b>Category: </b>{{getCategory(item.category)}}</div>
        <div class="service-date"><b>Date: </b> {{item.expridate}}</div>
      </div>
    </div>
  </div>
</div>
